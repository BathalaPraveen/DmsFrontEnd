<div class="page-container">

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a routerLink="/home">Home</a> /
    <span>Product Management</span>
  </div>

  <!-- Header Card -->
  <div class="card mb-4">
    <div class="card-body d-flex justify-content-between align-items-center">
      <h2 class="mb-0">Product List</h2>
      <div class="actions">
        <button class="add-btn" routerLink="/products/product-add">
          Add <i class="fa-solid fa-plus"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Table + Pagination Card -->
  <div class="card">

    <div class="card-body">

      <!-- Table Scroll Wrapper -->
      <div class="table-wrapper">
        <table class="styled-table">
          <thead>
          <tr>
            <th>ID</th>
            <th>Product ID</th>
            <th>Name</th>
            <th>Description</th>
            <th>Category</th>
            <th>Subcategory</th>
            <th>Manufacturer</th>
            <th>UOM</th>
            <th>Price</th>
            <th>Status</th>
            <th>Date</th>
            <th>Actions</th>
          </tr>
          </thead>

          <tbody>
          <tr *ngIf="products.length === 0">
            <td colspan="12" class="no-data">No Data Found</td>
          </tr>

          <tr *ngFor="let p of paginatedData">
            <td>{{ p.id }}</td>
            <td>{{ p.prodId }}</td>
            <td>{{ p.prodName }}</td>
            <td>{{ p.prodDescriptions }}</td>
            <td>{{ p.prodCategory }}</td>
            <td>{{ p.prodSubcategory }}</td>
            <td>{{ p.prodManufacturerId?.name || '-' }}</td>
            <td>{{ p.prodUom?.name || '-' }}</td>
            <td>{{ p.prodBprice }}</td>
            <td>{{ p.prodStatus }}</td>
            <td>{{ p.prodDate }}</td>
            <td>
              <button class="action-btn edit-btn" [routerLink]="['/products/product-edit', p.id]">
                <i class="fa-regular fa-pen-to-square"></i>
              </button>
              <button class="action-btn delete-btn" (click)="deleteProduct(p.id)">
                <i class="fa-solid fa-trash-can"></i>
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination INSIDE card below table -->
      <div class="pagination-holder mt-3">
        <app-pagination
          [currentPage]="currentPage"
          [itemsPerPage]="itemsPerPage"
          [totalItems]="totalItems"
          (pageChange)="currentPage = $event"
          (itemsPerPageChange)="itemsPerPage = $event">
        </app-pagination>
      </div>

    </div>

  </div>
</div>
